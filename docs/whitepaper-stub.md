# Локальная среда, bem-design-stub

Чтобы развернуть тренировочную среду у себя на компьютере, тебе понадобится:
+ Завести аккаунт на [GitHub](https://github.com/join?source=header-home)
+ Скачать [GitHub Desktop](https://desktop.github.com)
+ Склонировать репозиторий [bem-design-stub](https://github.com/bemdesign/bem-design). 'Clone or download' > 'Open in Desktop'
+ Открой консоль и зайди в директорию, куда склонировал репозиторий `cd /Users/username/bem-design-stub`
+ Установить [npm и nodeJS](https://nodejs.org/en/download/)
+ Установи все зависимости проекта `npm i`
+ Обнови все зависимости проекта `npm update`
+ Сохрани путь до исполняемых файлов в глобальную переменную PATH `export PATH=./node_modules/.bin:$PATH`
+ Собери проект с очисткой кэша `enb make -n`
+ Запусти проект `npm start`
+ В браузере перейди по ссылке 0.0.0.0:8080. Здесь отображаются все созданные страницы проекта

## Файловая структура

```
bem-design-stub

	common.blocks/								// Директория блоков проекта 
		block/									// Директория блока
			_mod/								// Директория модификатора
				block_mod_value.css				// Реализация модификатора на CSS
			__elem/								// Директория элемента
				_mod/							// Директория модификатора элемента
					block__elem_mod_value.css	// Реализация модификатора элемента на CSS
				block__elem.css					// Реализация элемента на CSS
				block__elem.js					// Реализация элемента на JavaScript
			block.css							// Реализация блока на CSS
			block.js							// Реализация блока на JavaScript

	desktop.bundles/							// Директория страниц проекта
		bundle/									// Директория страницы проекта
			bundle.bemjson.js					// Описание страницы в BEMJSON
```

## Создание новой страницы

Чтобы создать новую страницу, создай папку с названием страницы в директории desktop.bundles. В папке создай файл с названием аналогичным названию страницы с расширением .bemjson.js.

Содержимое бандла `example`:

```js
module.exports = {
	block: 'page',
	title: 'НАЗВАНИЕ СТРАНИЦЫ',
	favicon: '/favicon.ico',
	lang: 'ru',
	head: [
		{ elem: 'meta', attrs: { name: 'viewport', content: 'width=device-width, initial-scale=1' } },
		{ elem: 'css', url: 'example.min.css' }
	],
	scripts: [{ elem: 'js', url: 'example.min.js' }],
	content: [ СОДЕРЖИМОЕ СТРАНИЦЫ ]
};
```

Файлы example.min.css и example.min.js собираются автоматически, в них попадает код только блоков, указанных на странице или в зависимостях указанных блоков.

## Создание блока

Чтобы создать новый блок, создай папку с названием блока в директории common.blocks. В папке создай файлы с названием аналогичным названию страницы с нужными расширениями .css, .js, .bemhtml.js, .deps.js или другими.

Модификаторы положи в отдельные папки с названием модификатора, внутрь же положи отдельные файлы на каждое значение модификатора.

Элементы так же должны лежать в отдельных папках.

## Обновление

Время от времени нужно обновлять зависимости проекта так же, как и надо обновлять приложения на телефоне или компьютере. Для этого нужно делать те же шаги, что и при первом запуске проекта.

+ Чтобы выйти из режима сервера, нажми `Ctrl+C`. Теперь ты можешь исполнять команды
+ Обнови все зависимости проекта `npm update`
+ Сохрани путь до исполняемых файлов в глобальную переменную PATH `export PATH=./node_modules/.bin:$PATH`
+ Собери проект с очисткой кэша `enb make -n`